/* ============================================================
   EDITOR / MODO ENTRENAMIENTO — RESPONSIVE (LIMPIO, UNIFICADO)
   ============================================================ */

/* ──────────────────────────────────────────────────────────────
   Fila contenedora (panel izq | tablero | toolbar)
   ────────────────────────────────────────────────────────────── */
.board-row,
.editor-layout {
  display: grid;
  grid-template-columns: 1fr; /* móvil por defecto */
  gap: 16px;
  align-items: start;
  justify-content: center;
  width: min(95vw, 1400px);
  margin: 0 auto;
}

/* ──────────────────────────────────────────────────────────────
   Tablero fluido y cuadrado
   ────────────────────────────────────────────────────────────── */
#board.board-fluid {
  width: min(90vmin, 700px);
  max-width: 100%;
  aspect-ratio: 1 / 1;
  height: auto;
  position: relative; /* overlays */
  outline: none;
}
#board .board-canvas-fluid { width:100%; height:100%; display:block; }

/* ──────────────────────────────────────────────────────────────
   Micro-fix capa OV2
   ────────────────────────────────────────────────────────────── */
.ov2-layer { contain:layout paint; will-change:transform,opacity; transform:translateZ(0); pointer-events:none; }
.ov2-hint,.ov2-line,.ov2-dot { backface-visibility:hidden; transform:translateZ(0); }

/* ──────────────────────────────────────────────────────────────
   Variant / Goldens (sin cambios visuales)
   ────────────────────────────────────────────────────────────── */
.variant-badge-bar{display:flex;justify-content:flex-end;padding:6px 8px;}
.variant-badge{display:inline-flex;align-items:center;gap:8px;font-size:12px;line-height:1;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,0.06);backdrop-filter:saturate(120%);user-select:none;}
.variant-badge .dot{width:8px;height:8px;border-radius:50%;background:#22c55e;}

.variant-hints-host{padding:0 8px 8px 8px; display:none !important;}
.variant-hints{border:1px solid rgba(0,0,0,0.08);border-radius:12px;padding:10px 12px;background:rgba(0,0,0,0.03);}
.variant-hints .vh-title{display:block;font-size:12px;margin-bottom:6px;opacity:.85;}
.variant-hints .vh-list{margin:0;padding-left:18px;}
.variant-hints .vh-list li{font-size:12px;line-height:1.35;margin:2px 0;}

.variant-crumb{display:inline-flex;align-items:center;justify-content:center;margin-left:8px;padding:2px 6px;border-radius:999px;font-size:11px;line-height:1;background:rgba(0,0,0,0.08);}
.variant-crumb[data-variant="internacional"]{background:rgba(34,197,94,.18);}
.variant-crumb[data-variant="clasica"]{background:rgba(59,130,246,.18);}

.goldens-panel-host{margin-top:10px;padding:0 8px;}
.goldens-panel{border:1px solid rgba(0,0,0,0.08);border-radius:12px;background:rgba(0,0,0,0.03);padding:10px 12px;}
.goldens-row{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:6px;}
.goldens-chip{display:inline-flex;align-items:center;padding:2px 8px;font-size:12px;border-radius:999px;background:rgba(0,0,0,0.08);}
.goldens-chip--loading{background:rgba(234,179,8,.2);} .goldens-chip--ok{background:rgba(34,197,94,.2);}
.goldens-chip--warn{background:rgba(59,130,246,.2);} .goldens-chip--fail{background:rgba(239,68,68,.2);}
.goldens-body{font-size:13px;}
.goldens-pre{margin:8px 0 0 0;padding:8px;background:rgba(0,0,0,0.06);border-radius:8px;overflow:auto;max-height:200px;white-space:pre-wrap;word-break:break-word;}
.goldens-table{width:100%;border-collapse:collapse;font-size:12px;}
.goldens-table thead th{text-align:left;padding:6px 8px;border-bottom:1px solid rgba(0,0,0,0.1);}
.goldens-table tbody td{padding:6px 8px;border-bottom:1px solid rgba(0,0,0,0.06);}
.goldens-table tbody tr.row-ok{background:rgba(34,197,94,.06);}
.goldens-table tbody tr.row-fail{background:rgba(239,68,68,.06);}

/* ──────────────────────────────────────────────────────────────
   FX del tablero
   ────────────────────────────────────────────────────────────── */
#board *:focus{outline:none!important;box-shadow:none!important;}
#board.capture-flash{animation:capFlash .24s ease;}
@keyframes capFlash{0%{box-shadow:0 0 0 0 rgba(34,197,94,0);}30%{box-shadow:0 0 0 6px rgba(34,197,94,.25);}100%{box-shadow:0 0 0 0 rgba(34,197,94,0);}}
#board.move-pulse{animation:mvGlow .16s ease;box-shadow:0 0 0 0 rgba(59,130,246,0);}
@keyframes mvGlow{0%{box-shadow:0 0 0 0 rgba(59,130,246,0);}40%{box-shadow:0 0 0 6px rgba(59,130,246,.2);}100%{box-shadow:0 0 0 0 rgba(59,130,246,0);}}
#board .fx-overlay{position:absolute;inset:0;pointer-events:none;border-radius:inherit;}
#board .fx-overlay.fx-capture{animation:fxCap .24s ease;}
@keyframes fxCap{0%{box-shadow:inset 0 0 0 0 rgba(34,197,94,0);}30%{box-shadow:inset 0 0 0 6px rgba(34,197,94,.25);}100%{box-shadow:inset 0 0 0 0 rgba(34,197,94,0);}}
#board .fx-overlay.fx-move{animation:fxMove .16s ease;}
@keyframes fxMove{0%{box-shadow:inset 0 0 0 0 rgba(59,130,246,0);}40%{box-shadow:inset 0 0 0 6px rgba(59,130,246,.2);}100%{box-shadow:inset 0 0 0 0 rgba(59,130,246,0);}}

/* ──────────────────────────────────────────────────────────────
   Fondo sólido
   ────────────────────────────────────────────────────────────── */
html,body,#app,#root{background:#EAF6FF!important;}
[data-editor-root],.editor-card,.layout-editor,.editor-layout{
  background:#EAF6FF!important;background-image:none!important;box-shadow:none!important;overflow:visible!important;
}
[data-editor-root] .card,[data-editor-root] .panel,[data-editor-root] .btn,
[data-editor-root] [class*="card"],[data-editor-root] [class*="panel"],[data-editor-root] [class*="btn"]{box-shadow:none!important;}
.editor-card::before,.editor-card::after,.layout-editor::before,.layout-editor::after,.editor-layout::before,.editor-layout::after{
  content:none!important;background:none!important;box-shadow:none!important;
}

/* ──────────────────────────────────────────────────────────────
   Sidebar de herramientas (alias #tools / #toolbar)
   ────────────────────────────────────────────────────────────── */
.sidebar { align-self: start; }

/* Base: grid unificado y consistente (2 col base) */
.sidebar #tools,
#toolbar {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  grid-auto-rows: 50px !important;
  grid-auto-flow: row !important;
  gap: 12px !important;
  align-items: stretch !important;
  justify-items: stretch !important;
  box-sizing: border-box !important;
}

/* Normalizar hijos directos */
.sidebar #tools > *,
#toolbar > * {
  margin: 0 !important;
  grid-column: auto / span 1 !important;
  width: 100% !important;
  min-height: 50px !important;
  height: 50px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 8px !important;
  padding: 10px 14px !important;
  line-height: 1.1 !important;
  box-sizing: border-box !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  vertical-align: middle !important;
}

/* Tipografía / iconos */
.sidebar #tools :where(span,small,strong,em,i,svg,img){ line-height:1; }
.sidebar #tools :where(p,div){ margin:0; }
#toolbar :where(span,small,strong,em,i,svg,img){ line-height:1; }
#toolbar :where(p,div){ margin:0; }
.sidebar #tools .ico,
.sidebar #tools [class^="ico--"],
.sidebar #tools [class*=" ico--"],
#toolbar .ico,
#toolbar [class^="ico--"],
#toolbar [class*=" ico--"] {
  width: 20px !important;
  height: 20px !important;
  flex: 0 0 20px !important;
  display: inline-block !important;
}

/* Botones que deben ocupar toda la fila */
#btn-menu,
#btn-rotate { grid-column: 1 / -1 !important; }

/* ELIMINAR botones de FEN (ocultos) */
#btn-download-fen,
#btn-copy-fen { display: none !important; }

/* Neutralizar wrappers raros */
.sidebar > div[style*="flex-wrap"],
.sidebar #tools > .btn-group,
#toolbar > .btn-group,
.sidebar #tools > .group,
#toolbar > .group { display: contents !important; }

/* Dropdowns/Popovers fuera del flow */
.sidebar #tools .dropdown-menu,
#toolbar .dropdown-menu,
.sidebar #tools [data-popover],
#toolbar [data-popover]{
  position: absolute !important;
  inset: auto !important;
  z-index: 30;
}

/* Disabled */
.sidebar #tools .btn[disabled],
#toolbar .btn[disabled] { opacity: .6; pointer-events: none; }

/* ──────────────────────────────────────────────────────────────
   Breakpoints del LAYOUT principal
   ────────────────────────────────────────────────────────────── */

/* ≥1200: panel izq | tablero | toolbar (3 columnas) */
@media (min-width:1200px){
  .board-row,
  .editor-layout {
    grid-template-columns: 260px minmax(560px, 1fr) 300px !important;
  }
  .editor-layout #turn-dock { grid-column: 1 / 2 !important; }
  .editor-layout #board     { grid-column: 2 / 3 !important; max-width:100% !important; justify-self:center !important; }
  .editor-layout .sidebar   { grid-column: 3 / 4 !important; position: relative; z-index: 2; }
  #board { position: relative; z-index: 1; }
}

/* 900–1199: tablero | toolbar (sin superposición) */
@media (min-width:900px) and (max-width:1199.98px){
  .board-row,
  .editor-layout {
    grid-template-columns: minmax(560px, 1fr) 320px !important;
    column-gap: 16px !important;
  }
  #left-dock, .dock-turno { grid-column: 1 / -1; }

  /* Asegurar stacking correcto: tablero debajo, toolbar encima */
  #board { justify-self:center !important; position:relative !important; z-index:1 !important; }
  .editor-layout .sidebar { position:relative !important; z-index:2 !important; }

  /* En este rango, la toolbar en 1 columna para claridad */
  .sidebar #tools,
  #toolbar {
    grid-template-columns: 1fr !important;
    grid-auto-rows: 50px !important;
    gap: 10px !important;
    width: 100% !important;
  }
}

/* ≤899: 1 columna de layout */
@media (max-width:899.98px){
  .board-row,
  .editor-layout {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    gap: 12px;
  }
}

/* Teléfono MUY angosto (≤360): 1 columna para no apretar */
@media (max-width:359.98px){
  .sidebar #tools,
  #toolbar {
    grid-template-columns: 1fr !important;
    grid-auto-rows: 48px !important;
    gap: 8px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
  }
}

/* Teléfonos 360–540: 2 columnas */
@media (min-width:360px) and (max-width:540.98px){
  .sidebar #tools,
  #toolbar {
    grid-template-columns: 1fr 1fr !important;
    grid-auto-rows: 48px !important;
    gap: 10px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    justify-content: center !important;
    justify-items: stretch !important;
  }
}

/* Tablets pequeñas (incluye iPad Mini 768) — 2 columnas centradas */
:root{ --tools-max: 640px; --row-h: 52px; }

@media (min-width:541px) and (max-width:899.98px){
  .editor-layout .sidebar{
    width: 100% !important;
    max-width: var(--tools-max) !important;
    margin: 0 auto !important;
    justify-self: center !important;
  }

  .editor-layout .sidebar #tools,
  #toolbar{
    grid-template-columns: 1fr 1fr !important;
    grid-auto-rows: var(--row-h) !important;
    gap: 12px !important;
    width: 100% !important;
    max-width: var(--tools-max) !important;
    margin: 0 auto !important;
    justify-content: center !important;
    justify-items: stretch !important;
  }

  #btn-menu, #btn-rotate { grid-column: 1 / -1 !important; }
}

/* ──────────────────────────────────────────────────────────────
   Extras de visibilidad/scroll (móvil)
   ────────────────────────────────────────────────────────────── */
#group-save-load-local{ align-self: stretch; }

@media (max-width:900px){
  html,body,#app,#root,[data-editor-root]{
    height:auto!important;min-height:0!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch!important;
  }
  [data-editor-root] .card,[data-editor-root] .panel,[data-editor-root] .page,
  [data-editor-root] .layout-editor,[data-editor-root] .editor-layout,.board-row{
    position:static!important;height:auto!important;max-height:none!important;overflow:visible!important;
  }
  [data-editor-root] [style*="position: sticky"],[data-editor-root] .sticky,[data-editor-root] [class*="sticky"]{
    position:static!important;top:auto!important;
  }
  #board.board-fluid{
    width: clamp(260px, 88vmin, 88vw) !important;
    max-width: 88vw !important;
    aspect-ratio: 1 / 1 !important;
    height: auto !important;
    margin: 0 auto 20px auto !important;
  }
  html,body,[data-editor-root]{ overflow-x:hidden!important; }
  [data-editor-root]{ padding-bottom:72px!important; }
}

/* ──────────────────────────────────────────────────────────────
   GHOST-BUSTERS: colapsar nodos invisibles que ocupan celdas
   ────────────────────────────────────────────────────────────── */
#toolbar > [hidden],
.sidebar #tools > [hidden],
#toolbar > .hidden,
.sidebar #tools > .hidden,
#toolbar > [aria-hidden="true"],
.sidebar #tools > [aria-hidden="true"],
#toolbar > .sr-only,
.sidebar #tools > .sr-only,
#toolbar > .visually-hidden,
.sidebar #tools > .visually-hidden,
#toolbar > template,
.sidebar #tools > template,
#toolbar > script,
.sidebar #tools > script,
#toolbar > style,
.sidebar #tools > style,
#toolbar > br,
.sidebar #tools > br,
#toolbar > hr,
.sidebar #tools > hr,
#toolbar > :empty,
.sidebar #tools > :empty { display: none !important; }

#toolbar > div:empty,
.sidebar #tools > div:empty { display: none !important; }

#toolbar > div:not([class*="btn"]):not(.btn-group):not(.group),
.sidebar #tools > div:not([class*="btn"]):not(.btn-group):not(.group) {
  display: contents !important;
}

#toolbar,
.sidebar #tools { grid-auto-flow: row !important; } /* NO dense */

/* === HOTFIX iPad Pro (1024×1366) y rango medio (900–1199px)
   - Forzar layout de 2 columnas: [TABLERO] [TOOLBAR]
   - Mover panel izquierdo (turno/WAN) debajo (span completo)
   - Evitar que la toolbar quede sticky/absoluta y se monte sobre el tablero
================================================================== */
@media (min-width: 900px) and (max-width: 1199.98px) {

  /* 2 columnas cómodas: tablero + sidebar */
  .board-row,
  .editor-layout {
    grid-template-columns: minmax(560px, 1fr) 320px !important; /* ⇠ ajusta 320 si quieres más/menos toolbar */
    column-gap: 16px !important;
    align-items: start !important;
  }

  /* Asegurar qué va en cada columna */
  .editor-layout #board {
    grid-column: 1 / 2 !important;
    max-width: 700px !important; /* cabe con sidebar de 320px en 1024px */
    justify-self: center !important;
    position: relative !important;
    z-index: 1 !important; /* por debajo de overlays */
  }

  .editor-layout .sidebar {
    grid-column: 2 / 3 !important;
    position: static !important;   /* quitar sticky/absolute para que no se monte */
    top: auto !important;
    z-index: 2 !important;
    width: 100% !important;
  }

  /* Dentro de la toolbar, una sola columna vertical para que quepa */
  .sidebar #tools,
  #toolbar {
    grid-template-columns: 1fr !important;
    grid-auto-rows: 50px !important;
    gap: 10px !important;
    width: 100% !important;
  }

  /* Panel izquierdo (turno/WAN) y cualquier “dock” a FILA COMPLETA debajo */
  #left-dock,
  .dock-turno,
  #turn-dock,
  .wan-panel,
  .wan-card {
    grid-column: 1 / -1 !important;  /* ocupar todo el ancho, debajo del tablero+toolbar */
    position: static !important;
    top: auto !important;
  }

  /* Por si hay clases sticky genéricas en la sidebar */
  .editor-layout .sidebar [class*="sticky"],
  .editor-layout [style*="position: sticky"] {
    position: static !important;
    top: auto !important;
  }
}

/* ===== iPad Pro & rango medio (900–1199px) — FIX definitivo ===== */
@media (min-width: 900px) and (max-width: 1199.98px) {
  /* Grid de 2 columnas: [ TABLERO | TOOLBAR ] */
  .board-row,
  .editor-layout {
    display: grid !important;
    grid-template-columns: minmax(560px, 1fr) 340px !important; /* ajusta 340 si deseas más/menos barra */
    column-gap: 16px !important;
    align-items: start !important;
    justify-content: center !important;
    width: 100% !important;
    margin: 0 auto !important;
  }

  /* Tablero: ancho máximo calculado para que nunca tape la barra */
  #board {
    grid-column: 1 / 2 !important;
    /* 340 (sidebar) + 16 (gap) + 32 (reserva) => espacio para que no solape */
    max-width: calc(100vw - 340px - 16px - 32px) !important;
    width: min(820px, 100%) !important;
    justify-self: center !important;
    position: relative !important;
    z-index: 1 !important; /* por debajo de la barra */
  }

  /* Canvas interno sigue adaptándose al contenedor del tablero */
  #board .board-canvas-fluid { width: 100% !important; height: 100% !important; }

  /* Sidebar/toolbar: sin sticky/absolute, sin floats, ocupa su columna */
  .editor-layout .sidebar,
  #toolbar,
  .sidebar #tools {
    grid-column: 2 / 3 !important;
    position: static !important;
    top: auto !important;
    float: none !important;
    width: 100% !important;
    max-width: 340px !important;
    z-index: 2 !important; /* por encima del tablero */
  }

  /* Dentro de la toolbar: una sola columna vertical (cabe perfecto) */
  .sidebar #tools,
  #toolbar {
    display: grid !important;
    grid-template-columns: 1fr !important;
    grid-auto-rows: 50px !important;
    gap: 10px !important;
    justify-items: stretch !important;
  }

  /* Botones “fila completa” permanecen ocupando todo el ancho de la barra */
  #btn-menu,
  #btn-rotate { grid-column: 1 / -1 !important; }

  /* Cualquier panel izquierdo (turno/WAN) baja debajo del grid principal */
  #left-dock,
  .dock-turno,
  #turn-dock,
  .wan-panel,
  .wan-card {
    grid-column: 1 / -1 !important;
    position: static !important;
    top: auto !important;
    margin-bottom: 12px !important;
  }

  /* Cortes de posibles estilos heredados que empujan o superponen */
  .editor-layout [style*="position: sticky"],
  .editor-layout .sidebar [class*="sticky"] {
    position: static !important;
    top: auto !important;
  }
  .editor-layout .sidebar *,
  #toolbar * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
}

/* ──────────────────────────────────────────────────────────────
   REFUERZO GLOBAL ANTI-CORTE DE SCROLL (901–1199px)
   ────────────────────────────────────────────────────────────── */
@media (max-width:1199.98px){
  html, body { overflow-y: auto !important; }
}

/* --- Alinear tablero y toolbar debajo del bloque de turno/WAN --- */
#board-row {
  margin-top: 12px !important; /* separa un poco del panel superior */
}

#left-dock, #turn-dock, .wan-panel {
  margin-bottom: 12px !important; /* separación consistente */
}

/* iPad Pro 1024×1366 (900–1199px) — pulido final */
@media (min-width:900px) and (max-width:1199.98px){

  /* respiración arriba del grid */
  #board-row { margin-top: 12px !important; }

  /* bloque Turno/WAN en fila completa con separación */
  .__leftDockInGrid { margin-bottom: 12px !important; }

  /* ancho de la barra; si te queda muy angosta, súbelo a 340/360 */
  #right-panel { max-width: 332px !important; }

  /* asegúrate de que el tablero nunca tape la barra */
  #board {
    max-width: calc(100vw - 332px - 16px - 24px) !important;
    justify-self: center !important;
  }

  /* scroll interno si hay muchos botones */
  #right-panel { max-height: calc(100dvh - 220px) !important; overflow: auto !important; }
}

/* ——— ANTI-OVERFLOW & GRID LOCK para iPad 1024×1366 ——— */
@media (min-width:900px) and (max-width:1199.98px){
  html, body, .design-scope, #app, #root, [data-editor-root]{
    height:auto !important;
    min-height:0 !important;
    overflow-y:auto !important;
    overflow-x:hidden !important;
  }

  /* Bloquea el layout en 2 columnas y evita superposición */
  #board-row{
    display:grid !important;
    grid-template-columns:minmax(560px,1fr) 340px !important;
    gap:16px !important;
    align-items:start !important;
    margin-top:12px !important;
  }
  #right-panel{
    position:static !important;
    top:auto !important;
    max-width:340px !important;
    z-index:2 !important;
    max-height:calc(100dvh - 220px) !important;
    overflow:auto !important;
  }
  #right-panel #tools, #right-panel #toolbar{
    display:grid !important;
    grid-template-columns:1fr !important;
    grid-auto-rows:50px !important;
    gap:10px !important;
  }
  /* El tablero nunca tapa la barra */
  #board{
    grid-column:1 / 2 !important;
    max-width:calc(100vw - 340px - 16px - 24px) !important;
    justify-self:center !important;
    position:relative !important;
    z-index:1 !important;
  }
  /* Panel Turno/WAN cae debajo del bloque superior */
  #left-dock, .dock-turno, #turn-dock, .wan-panel, .wan-card{
    grid-column:1 / -1 !important;
    position:static !important;
    margin-bottom:12px !important;
  }
}
/* ===== FIX FINAL iPad Pro (1024×1366) y rango 900–1199px ===== */
@media (min-width: 900px) and (max-width: 1199.98px) {
  /* Contenedor: 2 columnas [TABLERO | TOOLBAR] centradas */
  #board-row,
  .board-row,
  .editor-layout {
    display: grid !important;
    grid-template-columns: minmax(560px, 1fr) 340px !important;
    column-gap: 16px !important;
    align-items: start !important;
    justify-content: center !important;
    width: 100% !important;
    margin: 12px auto 0 auto !important;
  }

  /* Tablero: nunca invade la columna de la barra */
  #board {
    grid-column: 1 / 2 !important;
    /* 340 (barra) + 16 (gap) + 24 (reserva) ⇒ evita solape */
    max-width: calc(100vw - 340px - 16px - 24px) !important;
    width: min(820px, 100%) !important;
    justify-self: center !important;
    position: relative !important;
    z-index: 1 !important; /* debajo de la barra */
  }
  #board.board-fluid { aspect-ratio: 1 / 1 !important; height: auto !important; }
  #board .board-canvas-fluid { width: 100% !important; height: 100% !important; display: block !important; }

  /* Sidebar/toolbar: fija a la 2ª columna, sin sticky ni floats */
  #right-panel,
  .editor-layout .sidebar,
  #toolbar,
  .sidebar #tools {
    grid-column: 2 / 3 !important;
    position: static !important;
    top: auto !important;
    float: none !important;
    width: 100% !important;
    max-width: 340px !important;
    z-index: 2 !important; /* sobre el tablero */
  }

  /* Contenido de la barra: una sola columna vertical cómoda */
  #right-panel #tools,
  #right-panel #toolbar,
  .sidebar #tools,
  #toolbar {
    display: grid !important;
    grid-template-columns: 1fr !important;
    grid-auto-rows: 50px !important;
    gap: 10px !important;
    align-items: stretch !important;
    justify-items: stretch !important;
  }
  #right-panel #tools > *,
  #right-panel #toolbar > *,
  .sidebar #tools > *,
  #toolbar > * {
    width: 100% !important;
    height: 50px !important;
    min-height: 50px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    gap: 8px !important;
    padding: 10px 14px !important;
    box-sizing: border-box !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  /* Bloque Turno/WAN ocupa fila completa encima del grid principal */
  .__leftDockInGrid,
  #left-dock,
  .dock-turno,
  #turn-dock,
  .wan-panel,
  .wan-card {
    grid-column: 1 / -1 !important;
    position: static !important;
    top: auto !important;
    margin-bottom: 12px !important;
  }

  /* Anula cualquier “sticky” heredado que pudiera superponer */
  .editor-layout [style*="position: sticky"],
  .editor-layout .sidebar [class*="sticky"] {
    position: static !important;
    top: auto !important;
  }
}

/* Pequeño refuerzo global: permite scroll vertical si hace falta */
@media (max-width: 1199.98px) {
  html, body { overflow-y: auto !important; }
}
